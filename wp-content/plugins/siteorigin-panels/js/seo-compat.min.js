jQuery((function(t){const n=()=>({allowedTags:["p","a","img","caption","br","blockquote","cite","em","strong","i","b","q","h1","h2","h3","h4","h5","h6","ul","ol","li","table","tr","th","td"].join(","),isClassicEditorPanelsEnabled:function(){return t("#so-panels-panels.attached-to-editor").is(":visible")},isBlockEditorPanelsEnabled:function(){return void 0!==window.soPanelsBuilderView&&t(".block-editor-page").length},findSoLayoutBlocks:function(t){return t.match(/<!--\s*wp:siteorigin-panels\/layout-block[\s\S]*?\/-->/g)},seoContentChange:function(t){if(!t)return t;const n=this.isClassicEditorPanelsEnabled(),i=this.isBlockEditorPanelsEnabled();return n||i?n&&!i?this.contentModification(t):this.processBlocks(t):t},processBlocks:function(t){const n=this.findSoLayoutBlocks(t);return n?(n.forEach((function(n){t=t.replace(n,this.contentModification(n))}),this),t):t},extractContent:function(n){const i=t(n);return 0===i.find(".so-panel").length?n:(i.find("iframe, script, style, link").remove(),i.find("*").not(this.allowedTags).each((function(){const n=t(this);n.replaceWith(n.contents())})),i.html())},contentModification:function(t){return Array.isArray(window.soPanelsBuilderView)?(t=null,window.soPanelsBuilderView.forEach((function(n){t+=this.extractContent(n.contentPreview)}),this),t):this.extractContent(window.soPanelsBuilderView.contentPreview)},init:function(){"undefined"!=typeof YoastSEO&&(YoastSEO.app.registerPlugin("SiteOriginSeoCompat",{status:"ready"}),YoastSEO.app.registerModification("content",this.seoContentChange.bind(this),"SiteOriginSeoCompat",5)),"undefined"!=typeof rankMathEditor&&wp.hooks.addFilter("rank_math_content","SiteOriginSeoCompat",this.seoContentChange.bind(this))}});"undefined"!=typeof rankMathEditor&&n().init(),t(window).on("YoastSEO:ready",()=>{n().init()})}));