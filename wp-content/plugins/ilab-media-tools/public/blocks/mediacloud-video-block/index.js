!function(){"use strict";var e,t={928:function(e,t,l){var o=window.wp.blocks,r=window.wp.element,a=window.wp.blockEditor;const{getBlobByURL:n,isBlobURL:s}=wp.blob,{Disabled:c,BaseControl:i,SelectControl:p,ToggleControl:m,PanelBody:d,IconButton:E,Toolbar:f,withNotices:u,Button:h}=wp.components,{Fragment:v}=wp.element,{isEmpty:g}=l(819),{Component:y,createRef:B}=wp.element,{__:__,sprintf:b}=wp.i18n,{compose:w,withInstanceId:x}=wp.compose,A=["video"],k=["image"];var C=w([u,x])(class extends y{constructor(){super(...arguments),this.state={editing:!this.props.attributes.muxId&&!this.props.attributes.id},this.videoPlayer=B(),this.posterImageButton=B()}toggleAttribute(e){return t=>{this.props.setAttributes({[e]:t})}}selectPoster(e){this.props.setAttributes({poster:e.url})}render(){const{autoplay:e,caption:t,controls:l,loop:o,muted:n,playsInline:s,poster:u,preload:y,src:B,allowDownload:w,allowDownloadOriginal:x,outputDimensions:C}=this.props.attributes,{editing:M}=this.state,{className:D,instanceId:G,isSelected:Z,setAttributes:O}=this.props;if(M)return(0,r.createElement)("div",{className:"mux-uploader-container"},(0,r.createElement)("svg",{className:"mediaCloudLogo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 126 94"},(0,r.createElement)("defs",null,(0,r.createElement)("linearGradient",{x1:"-93.348%",y1:"-139.197%",x2:"296.781%",y2:"376.87%",id:"a"},(0,r.createElement)("stop",{"stop-color":"#51AFE3",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#55B5E6",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-167.957%",y1:"-106.294%",x2:"250.108%",y2:"250.35%",id:"b"},(0,r.createElement)("stop",{"stop-color":"#5BBEEC",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#57B8E9",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-24.554%",y1:"-69.719%",x2:"132.965%",y2:"128.502%",id:"c"},(0,r.createElement)("stop",{"stop-color":"#58BAEA",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5ABAEA",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-29.091%",y1:"10206%",x2:"-21.558%",y2:"10188%",id:"d"},(0,r.createElement)("stop",{"stop-color":"#58BAEA",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5ABAEA",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-405.419%",y1:"-706%",x2:"525.616%",y2:"716%",id:"e"},(0,r.createElement)("stop",{"stop-color":"#57B3E5",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#59B8E8",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-46.032%",y1:"-10.704%",x2:"168.254%",y2:"145.159%",id:"f"},(0,r.createElement)("stop",{"stop-color":"#59B5E6",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5CBAEA",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-150.127%",y1:"-269.291%",x2:"469.62%",y2:"793.701%",id:"g"},(0,r.createElement)("stop",{"stop-color":"#55B3E5",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5BB6E7",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-10.404%",y1:"12.062%",x2:"89.881%",y2:"112.398%",id:"h"},(0,r.createElement)("stop",{"stop-color":"#66C7F2",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5CC3F0",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"9.516%",y1:"-7.089%",x2:"111.31%",y2:"107.975%",id:"i"},(0,r.createElement)("stop",{"stop-color":"#5AB9E9",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#54B1E4",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-9.503%",y1:"14.671%",x2:"93.393%",y2:"154.3%",id:"j"},(0,r.createElement)("stop",{"stop-color":"#5DB9E9",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#51B3E5",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-612.5%",y1:"-136.437%",x2:"206.5%",y2:"100.482%",id:"k"},(0,r.createElement)("stop",{"stop-color":"#63C6F1",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5BBBEB",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-64.201%",y1:"-31.738%",x2:"152.18%",y2:"99.58%",id:"l"},(0,r.createElement)("stop",{"stop-color":"#53B0E4",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#51AFE3",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"34.877%",y1:"10269%",x2:"39.728%",y2:"10251%",id:"m"},(0,r.createElement)("stop",{"stop-color":"#58BAEA",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5ABAEA",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-46.324%",y1:"-102.092%",x2:"85.995%",y2:"128.87%",id:"n"},(0,r.createElement)("stop",{"stop-color":"#5DB6E7",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#58B4E6",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"14.964%",y1:"-17.061%",x2:"115.273%",y2:"83.277%",id:"o"},(0,r.createElement)("stop",{"stop-color":"#4FAFE3",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#50ABE0",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-52%",y1:"2508.505%",x2:"-34%",y2:"2504.131%",id:"p"},(0,r.createElement)("stop",{"stop-color":"#66C7F2",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#5CC3F0",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-16.212%",y1:"16.385%",x2:"84.13%",y2:"116.723%",id:"q"},(0,r.createElement)("stop",{"stop-color":"#58B7E8",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#59B9E9",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-272%",y1:"5074.1%",x2:"-254%",y2:"5065.168%",id:"r"},(0,r.createElement)("stop",{"stop-color":"#4FAFE3",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#50ABE0",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"16.342%",y1:"-15.81%",x2:"111.049%",y2:"84.527%",id:"s"},(0,r.createElement)("stop",{"stop-color":"#56BAEA",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#52B1E4",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"22.131%",y1:"-33.071%",x2:"628.279%",y2:"1029.921%",id:"t"},(0,r.createElement)("stop",{"stop-color":"#53B3E6",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#54B0E4",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"36.601%",y1:"10386%",x2:"38.414%",y2:"10368%",id:"u"},(0,r.createElement)("stop",{"stop-color":"#4FAFE3",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#50ABE0",offset:"100%"})),(0,r.createElement)("linearGradient",{x1:"-10.455%",y1:"10.036%",x2:"136.771%",y2:"232.616%",id:"v"},(0,r.createElement)("stop",{"stop-color":"#59B8E9",offset:"0%"}),(0,r.createElement)("stop",{"stop-color":"#59B5E7",offset:"100%"}))),(0,r.createElement)("g",{"fill-rule":"nonzero",fill:"none"},(0,r.createElement)("path",{d:"m123.922 51.283-9.153 14.182a17.089 17.089 0 0 0 9.153-14.182Z",stroke:"#53B2E4",fill:"url(#a)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M81.181 13.472a22.589 22.589 0 0 0-4.577-6.737l-4.556 8.426 9.133-1.69Z",stroke:"#59BBEB",fill:"url(#b)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M76.604 6.735a22.412 22.412 0 0 0-23.118-5.579l18.562 14.005 4.556-8.426Z",stroke:"#59BAEA",fill:"url(#c)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"m106.598 35.962.236-1.964h-.354v-.825A16.814 16.814 0 0 0 82.654 17.97a22.353 22.353 0 0 0-1.453-4.498l-9.134 1.69 34.531 20.8Z",stroke:"#5ABAEA",fill:"url(#d)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M110.605 34.312a16.558 16.558 0 0 0-3.123-.314h-.629l-.235 1.964 3.987-1.65Z",stroke:"#58B6E7",fill:"url(#e)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"m110.605 34.312-3.928 1.63 3.692 31.035h.138c1.513-.3 2.975-.816 4.34-1.532l9.154-14.182v-.766a16.48 16.48 0 0 0-13.396-16.185Z",stroke:"#5BB7E8",fill:"url(#f)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#57B4E5",fill:"url(#g)",d:"M33.824 66.997h7.758l-1.944-2.495z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#60C5F1",fill:"url(#h)",d:"m74.169 56.036 32.429-20.074-34.55-20.801z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#58B6E7",fill:"url(#i)",d:"m74.169 56.036 25.869 10.961h10.253l-3.693-31.035z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#55B5E6",fill:"url(#j)",d:"M14.948 43.701 13.18 66.997h20.644l5.814-2.495z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M13.553 32.152a23.963 23.963 0 0 0-2.612 10.744v1.493l3.928-.688-1.316-11.55Z",stroke:"#5DBEED",fill:"url(#k)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M11.078 44.487v.727h-.137C4.898 45.214 0 50.112 0 56.154c0 6.043 4.898 10.941 10.94 10.941h2.181l1.748-23.394-3.79.786Z",stroke:"#52AFE3",fill:"url(#l)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"m13.553 32.152 1.316 11.55 38.067-14.104-30.897-6.934a24.16 24.16 0 0 0-8.486 9.488Z",stroke:"#5ABAEA",fill:"url(#m)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M39.186 15.456a22.451 22.451 0 0 0-.884 3.496 23.57 23.57 0 0 0-16.263 3.634l30.995 6.953-13.848-14.083Z",stroke:"#59B4E6",fill:"url(#n)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#50ADE2",fill:"url(#o)",d:"m14.948 43.701 24.69 20.801 13.376-34.884z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M52.032 1.687a22.589 22.589 0 0 0-12.846 13.749l13.75 14.142-.904-27.891Z",stroke:"#5CC3F0",fill:"url(#p)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#59B8E9",fill:"url(#q)",d:"m39.638 64.502 34.531-8.466-21.155-26.418z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{d:"M72.048 15.161 53.486 1.156c-.491.157-.982.334-1.474.53l1.002 27.912 19.034-14.437Z",stroke:"#50ABE0",fill:"url(#r)",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#54B5E7",fill:"url(#s)",d:"m53.014 29.618 21.155 26.418-2.121-40.875z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#53B3E6",fill:"url(#t)",d:"M41.582 66.997h2.849l-4.793-2.495z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#50ABE0",fill:"url(#u)",d:"m39.638 64.502 4.793 2.495h27.99l1.748-10.961z",transform:"translate(.785 1.008)"}),(0,r.createElement)("path",{stroke:"#59B6E8",fill:"url(#v)",d:"M72.421 66.997h27.617L74.169 56.036z",transform:"translate(.785 1.008)"}),(0,r.createElement)("g",{fill:"#000"},(0,r.createElement)("path",{d:"M2.886 93h1.56V82.656H4.5L8.777 93h1.41l4.277-10.344h.056V93h1.558V79.613H14.15L9.51 90.894h-.056l-4.638-11.28h-1.93zM18.676 93h8.294v-1.503h-6.624v-4.602h6.281v-1.484h-6.28v-4.295h6.623v-1.503h-8.294zM29.17 93h4.499c3.98 0 6.318-2.477 6.318-6.698v-.019c0-4.202-2.357-6.67-6.318-6.67h-4.5V93Zm1.67-1.503V81.116h2.717c3.034 0 4.723 1.846 4.723 5.186v.018c0 3.322-1.689 5.177-4.723 5.177H30.84ZM42.064 93h1.67V79.613h-1.67zM45.265 93h1.754l1.354-3.832h5.39L55.118 93h1.753L51.9 79.613h-1.652L45.265 93Zm5.79-11.383h.037l2.17 6.132h-4.378l2.17-6.132ZM67.893 93.223c2.802 0 4.945-1.661 5.455-4.222l.018-.092h-1.688l-.028.083c-.584 1.763-1.883 2.69-3.757 2.69-2.663 0-4.398-2.124-4.398-5.38v-.01c0-3.256 1.726-5.362 4.398-5.362 1.883 0 3.2.946 3.72 2.57l.065.204h1.688l-.018-.093c-.51-2.532-2.672-4.22-5.455-4.22-3.73 0-6.114 2.69-6.114 6.901v.01c0 4.212 2.394 6.92 6.114 6.92ZM75.333 93h8.127v-1.503h-6.457V79.613h-1.67zM90.4 93.223c3.794 0 6.16-2.663 6.16-6.912v-.019c0-4.24-2.375-6.902-6.16-6.902-3.795 0-6.18 2.663-6.18 6.902v.019c0 4.25 2.376 6.912 6.18 6.912Zm0-1.54c-2.746 0-4.472-2.079-4.472-5.372v-.019c0-3.293 1.735-5.362 4.472-5.362 2.727 0 4.453 2.078 4.453 5.362v.019c0 3.266-1.698 5.372-4.453 5.372ZM103.963 93.223c3.321 0 5.307-2.004 5.307-4.917v-8.693h-1.67v8.581c0 2.06-1.318 3.489-3.637 3.489-2.32 0-3.655-1.43-3.655-3.489v-8.581h-1.67v8.693c0 2.913 2.004 4.917 5.325 4.917ZM111.867 93h4.5c3.98 0 6.318-2.477 6.318-6.698v-.019c0-4.202-2.357-6.67-6.318-6.67h-4.5V93Zm1.67-1.503V81.116h2.719c3.033 0 4.722 1.846 4.722 5.186v.018c0 3.322-1.689 5.177-4.722 5.177h-2.719Z"})))),(0,r.createElement)(a.MediaUploadCheck,null,(0,r.createElement)(a.MediaUpload,{onSelect:e=>{console.log(e);let t=null;e.hasOwnProperty("image")&&null!==e.image&&(t=e.image.src),O({id:e.id,muxId:e.hasOwnProperty("mux")?e.mux.muxId:null,src:e.hasOwnProperty("mux")?e.mux.src:e.url,poster:t}),this.setState({editing:!1})},allowedTypes:A,render:e=>{let{open:t}=e;return(0,r.createElement)(h,{className:"button",onClick:t},"Select Video")}})));const P=`video-block__poster-image-description-${G}`;return(0,r.createElement)(v,null,(0,r.createElement)(a.BlockControls,null,(0,r.createElement)(f,null,(0,r.createElement)(E,{className:"components-icon-button components-toolbar__control",label:__("Edit video"),onClick:()=>{this.setState({editing:!0})},icon:"edit"}))),(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(d,{title:__("Video Settings")},(0,r.createElement)(m,{label:__("Autoplay"),onChange:this.toggleAttribute("autoplay"),checked:e,help:this.getAutoplayHelp}),(0,r.createElement)(m,{label:__("Loop"),onChange:this.toggleAttribute("loop"),checked:o}),(0,r.createElement)(m,{label:__("Muted"),onChange:this.toggleAttribute("muted"),checked:n}),(0,r.createElement)(m,{label:__("Playback Controls"),onChange:this.toggleAttribute("controls"),checked:l}),(0,r.createElement)(m,{label:__("Play inline"),onChange:this.toggleAttribute("playsInline"),checked:s}),(0,r.createElement)(m,{label:__("Output Dimensions"),onChange:this.toggleAttribute("outputDimensions"),checked:C}),(0,r.createElement)(p,{label:__("Preload"),value:y,onChange:e=>O({preload:e}),options:[{value:"auto",label:__("Auto")},{value:"metadata",label:__("Metadata")},{value:"none",label:__("None")}]}),(0,r.createElement)(p,{label:__("Allow Download"),value:w,onChange:e=>O({allowDownload:e}),options:[{value:"inherit",label:__("Use Default Settings")},{value:"no",label:__("Do not allow download")},{value:"yes",label:__("Allow download")},{value:"logged-in",label:__("Allow download for logged in users")}]}),(0,r.createElement)(p,{label:__("Allow Original Download"),value:x,onChange:e=>O({allowDownloadOriginal:e}),options:[{value:"inherit",label:__("Use Default Settings")},{value:"no",label:__("Do not allow download")},{value:"yes",label:__("Allow download")},{value:"logged-in",label:__("Allow download for logged in users")}]}),(0,r.createElement)(a.MediaUploadCheck,null,(0,r.createElement)(i,{className:"editor-video-poster-control"},(0,r.createElement)(i.VisualLabel,null,__("Poster Image")),(0,r.createElement)(a.MediaUpload,{title:__("Select Poster Image"),onSelect:this.selectPoster.bind(this),allowedTypes:k,render:e=>{let{open:t}=e;return(0,r.createElement)(h,{isDefault:!0,onClick:t,ref:this.posterImageButton,"aria-describedby":P},this.props.attributes.poster?__("Replace image"):__("Select Poster Image"))}}),(0,r.createElement)("p",{id:P,hidden:!0},this.props.attributes.poster?b(__("The current poster image url is %s"),this.props.attributes.poster):__("There is no poster image currently selected")),!!this.props.attributes.poster&&(0,r.createElement)(h,{onClick:this.onRemovePoster,isLink:!0,isDestructive:!0},__("Remove Poster Image")))))),(0,r.createElement)("figure",{className:D},(0,r.createElement)(c,null,(0,r.createElement)("video",{controls:l,poster:u,src:B,ref:this.videoPlayer})),(!g(t)||Z)&&(0,r.createElement)(a.RichText,{tagName:"figcaption",placeholder:__("Write caption…"),value:t,onChange:e=>O({caption:e}),inlineToolbar:!0})))}});function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},M.apply(this,arguments)}window.wp.i18n;const{isEmpty:D}=l(819),{Icon:G}=wp.components;(0,o.registerBlockType)("media-cloud/mux-video-block",{icon:(0,r.createElement)(G,{icon:(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,r.createElement)("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-1h5c1.1 0 1.99-.9 1.99-2L23 5a2 2 0 0 0-2-2zm-1 14H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1zm-5.52-5.13-3.98 2.28c-.67.38-1.5-.11-1.5-.87V8.72c0-.77.83-1.25 1.5-.87l3.98 2.28c.67.39.67 1.35 0 1.74z"}))}),edit:C,save:function(e){let{attributes:t}=e;const{id:l,autoplay:o,caption:n,controls:s,loop:c,muted:i,poster:p,preload:m,src:d,muxId:E,playsInline:f,outputDimensions:u}=t,h=wp.data.select("core").getMedia(l);let v={};return u&&void 0!==h&&h.hasOwnProperty("media_details")&&h.media_details.width>0&&h.media_details.height>0&&(v.width=h.media_details.width,v.height=h.media_details.height),(0,r.createElement)("figure",a.useBlockProps.save(),l&&(0,r.createElement)("video",M({autoPlay:o,controls:s,loop:c,muted:i,poster:p,preload:"metadata"!==m?m:void 0,playsInline:f},v),(0,r.createElement)("source",null)),!D(n)&&(0,r.createElement)(a.RichText.Content,{tagName:"figcaption",value:n}))}})},819:function(e){e.exports=window.lodash}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,l,r,a){if(!l){var n=1/0;for(p=0;p<e.length;p++){l=e[p][0],r=e[p][1],a=e[p][2];for(var s=!0,c=0;c<l.length;c++)(!1&a||n>=a)&&Object.keys(o.O).every((function(e){return o.O[e](l[c])}))?l.splice(c--,1):(s=!1,a<n&&(n=a));if(s){e.splice(p--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[l,r,a]},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,a,n=l[0],s=l[1],c=l[2],i=0;if(n.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var p=c(o)}for(t&&t(l);i<n.length;i++)a=n[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},l=self.webpackChunkmediacloud_video_block=self.webpackChunkmediacloud_video_block||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var r=o.O(void 0,[431],(function(){return o(928)}));r=o.O(r)}();